function scrollnumber(element,cssname,offset){  
    var a,b,c,d;  
    d=$(element).offset().top;  
    a=eval(d + offset);  
    b=$(window).scrollTop();   
    c=$(window).height();  
    if(b+c>a){  
        $((element)).addClass((cssname));  
    }  
}  
  
function scrollfun(){  
    scrollnumber("#h-logo",'flipInY animated',0);  
    scrollnumber(".h-phone",'fadeInUp1 animated',0);  
    scrollnumber(".h-title",'zoomInDown animated',0);  
    scrollnumber(".h-p",'pulse animated',0);  
    scrollnumber(".h-four",'swing animated',0);  
      
    

}  
      
$(document).ready(function(e) {  
    scrollfun();  
    $(window).scroll(function(){  
        scrollfun();  
    });  
});  

   
define(function(require,exports,module){
	var nav_left = require('../view/nav-left.html');
	$('.ccl-nav').html(nav_left);
	var navjs = require("../js/nav.js");
$('.open-in-mobile').click(function(){
	$('.modal').css({"display":"block"});
});
$('.button').click(function(){
	$('.modal').css({"display":"none"});
})
$('.share-container .more .icon-jiantou').click(function(){
	$('.icon-jiantou').addClass('active');
	$('.dropdown-menu').css({"display":"block"});
})
$('.share-container .more em').click(function(){
	$('.icon-jiantou').removeClass('active');
	$('.dropdown-menu').css({"display":"none"});
})
$('.swiper-slide').hover(function(e){
	var $index=$(e.currentTarget);
	$('.pan .mask').eq($index.index()).css({"opacity":'1'})
	$('.pan .mask .btn').eq($index.index()).css({"display":"block"});
},function(e){
	var $index=$(e.currentTarget);
	$('.pan .mask').eq($index.index()).css({"opacity":'0'})
	$('.pan .mask .btn').eq($index.index()).css({"display":"none"});
})

});
define(function(require,exports,module){
	var article = require('../view/article-list.html');
	var _html = _.template(article);
	var download = require('../view/app-download-guide.html');
	var nav = require('../view/nav.html');
	$('#nav').html(nav);
	var navjs = require('../js/nav.js');


	$.ajax({
		url:'../jianshu.json',
		type:'get',
		success:function(res){
			console.log(res);
			console.log(res.article);
			resFn(res);
		$('.article-list').html(_html({data:res.article}));
		$('.article-list .have-img').eq(3).before(download);
		$('.qrcode').hover(function(){
			$('.btn-part .img').css("display","block");
		},function(){
			$('.btn-part .img').css("display","none");
		});
		
		}

	})
	function resFn(res){
		    var unstyled = $('.unstyled');
		    var li = $();
		    for(var i = 0;i < res.array.length;i++){
		    	unstyled.append('<li><a href="#">'+res.array[i]+'</a></li>')
		    }
		    unstyled.find('li').eq(0).addClass('active');
	}
})

define(function(require,exports,module){
	var nav_left = require('../view/nav-left.html');
	$('.ccl-nav-left').html(nav_left);
	$('.ccl-nav-left a .icon-mulu').hover(function(){
		$('.ccl-nav-left a .mulu').css({display:'block'});
	},function(){
		$('.ccl-nav-left a .mulu').css({display:'none'});
	});


	$('.ccl-nav-left a .icon-shouji').hover(function(){
		$('.shouji').css({display:'block'});
	},function(){
		$('.shouji').css({display:'none'});
		$(function(){
			$('.shouji').hover(function(){
				$('.shouji').css({display:'block'})
			},
			function(){
				$('.shouji').css({display:'none'})
			});
		});
	});

	// lunbotu
	var timer = setInterval(runloop,4000);
	var count=0;
	function runloop(){
		count++
		if (count==3){
			count=0
		}
		$('.ccl-nav-img .img').eq(count).show().siblings('.img').hide();
	}

});


define(function(require,exports,module) {
	var nav = require('../view/nav-left.html');
	$('.ccl-nav').html(nav);
	var navjs = require('../js/nav.js');
	function sign(event) {
		$('.sign_in_click').click(function() {
			$(this).addClass('active')
			$('.sign_out_click').removeClass('active')
			$('.sign_in').show();
			$('.sign_out').hide()
		});
		$('.sign_out_click').click(function() {
			$(this).addClass('active')
			$('.sign_in_click').removeClass('active')
			$('.sign_out').show()
			$('.sign_in').hide()
		})
	}
	sign();
})