function scrollnumber(element,cssname,offset){  
    var a,b,c,d;  
    d=$(element).offset().top;  
    a=eval(d + offset);  
    b=$(window).scrollTop();   
    c=$(window).height();  
    if(b+c>a){  
        $((element)).addClass((cssname));  
    }  
}  
  
function scrollfun(){  
    scrollnumber("#h-logo",'flipInY animated',0);  
    scrollnumber(".h-phone",'fadeInUp1 animated',0);  
    scrollnumber(".h-title",'zoomInDown animated',0);  
    scrollnumber(".h-p",'pulse animated',0);  
    scrollnumber(".h-four",'swing animated',0);  
      
    

}  
      
$(document).ready(function(e) {  
    scrollfun();  
    $(window).scroll(function(){  
        scrollfun();  
    });  
});  

   
define(function(require, exports, module) {
    var nav_left = require('../view/nav-left.html');
    var navjs = require("../js/nav.js");

    var Choice = {
        init: function() {
            this.render();
        },
        events: function() {
            navjs.init();
            $('.open-in-mobile').click(function() {
                $('.modal').css({ "display": "block" });
            });
            $('.button').click(function() {
                $('.modal').css({ "display": "none" });
            })
            $('.share-container .more .icon-jiantou').click(function() {
                $('.icon-jiantou').addClass('active');
                $('.dropdown-menu').css({ "display": "block" });
            })
            $('.share-container .more em').click(function() {
                $('.icon-jiantou').removeClass('active');
                $('.dropdown-menu').css({ "display": "none" });
            })
            $('.swiper-slide').hover(function(e) {
                var $index = $(e.currentTarget);
                $('.pan .mask').eq($index.index()).css({ "opacity": '1' })
                $('.pan .mask .btn').eq($index.index()).css({ "display": "block" });
            }, function(e) {
                var $index = $(e.currentTarget);
                $('.pan .mask').eq($index.index()).css({ "opacity": '0' })
                $('.pan .mask .btn').eq($index.index()).css({ "display": "none" });
            })
        },
        render: function() {
            $('.ccl-nav').html(nav_left);
            this.events();
        }
    }
    module.exports = Choice;
});

define(function(require,exports,module){
	var article = require('../view/article-list.html');
	var _html = _.template(article);
	var download = require('../view/app-download-guide.html');
	var nav = require('../view/nav.html');
	var navjs = require('../js/nav.js');

	var index = {
		init:function(){
			this.server();
		},
		events:function(){
			var that = this;
			 navjs.init();
			 var unstyled = $('.unstyled');
			    for(var i = 0;i < that.res.array.length;i++){
			    	unstyled.append('<li><a href="#">'+that.res.array[i]+'</a></li>')
			    }
			    unstyled.find('li').eq(0).addClass('active');

			$('.article-list').html(_html({data:that.res.article}));
			$('.article-list .have-img').eq(3).before(download);
			$('.qrcode').hover(function(){
				$('.btn-part .img').css("display","block");
			},function(){
				$('.btn-part .img').css("display","none");
			});
		},
		render:function(){
			$('#nav').html(nav);
			this.events();
		},
		server:function(){
			var that = this;
			$.ajax({
				url:'../jianshu.json',
				type:'get',
				success:function(res){
					that.res = res;
					that.render();
				}
			});
		}
	}
	module.exports = index;
})

define(function(require,exports,module){
	var nav_left = require('../view/nav-left.html');

	var nav = {
		init:function(){
			this.render();
			this.setInterval();
		},
		events:function(){
			$('.ccl-nav-left a .icon-mulu').hover(function(){
			$('.ccl-nav-left a .mulu').css({display:'block'});
			},function(){
				$('.ccl-nav-left a .mulu').css({display:'none'});
			});

			$('.ccl-nav-left a .icon-shouji').hover(function(){
				$('.shouji').css({display:'block'});
			},function(){
				$('.shouji').css({display:'none'});
				$(function(){
					$('.shouji').hover(function(){
						$('.shouji').css({display:'block'})
					},
					function(){
						$('.shouji').css({display:'none'})
					});
				});
			});
		},
		setInterval:function(){
			var timer = setInterval(runloop,4000);
			var count=0;
			function runloop(){
				count++
				if (count==3){
					count=0
				}
				$('.ccl-nav-img .img').eq(count).show().siblings('.img').hide();
			}
		},
		render:function(){
			$('.ccl-nav-left').html(nav_left);
			this.events();
		}
	}
	module.exports = nav;
})


define(function(require,exports,module) {
	var nav = require('../view/nav-left.html');
	
	var navjs = require('../js/nav.js');
	var sigin = {
		init:function(){
			this.render();
		},
		events:function(event){
			navjs.init();
			$('.sign_in_click').click(function() {
			$(this).addClass('active')
			$('.sign_out_click').removeClass('active')
			$('.sign_in').show();
			$('.sign_out').hide()
		});
		$('.sign_out_click').click(function() {
			$(this).addClass('active')
			$('.sign_in_click').removeClass('active')
			$('.sign_out').show()
			$('.sign_in').hide()
		})
		},
		render:function(){
			$('.ccl-nav').html(nav);
			this.events();
		}
	};

	module.exports = sigin;
})